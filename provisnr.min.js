!function(t){var e={collectResults:function(t,e){var n,o,i=!1,r={iterations:{},fasterFunction:{name:"",fasterInPercentage:0}};return t.iterations>t.iterations?(n=t,o=e):t.iterations<e.iterations?(n=e,o=t):i=!0,i?r.equallyFast=!0:(r.fasterFunction.name=n.name,r.fasterFunction.fasterInPercentage=parseInt((n.iterations-o.iterations)/o.iterations*100,10)),r.iterations[t.name]=t.iterations,r.iterations[e.name]=e.iterations,r},testProceFunction:function(t){var e,n=(new Date).getTime(),o=0,i=t.timeout,r=t.callback,a=(t.generator||function(){})();for(e=0;o<i;e++)r(a),o=(new Date).getTime()-n;return e},testAsyncFunction:function(t){var e=0,n=(new Date).getTime(),o=0,i=t.timeout,r=t.callback,a=t.complete,c=(t.generator||function(){})(),s=function(){if(o>=i)return a(e);r(function(){o=(new Date).getTime()-n,e++,s()},c)};s()},comparePerformance:function(t){var n=t.type,o=t.generator||function(){},i=t.timeout,r=t.callbacks,a=Object.keys(r),c=a[0],s=a[1],u={name:c,iterations:0},l={name:s,iterations:0};if("procedural"===n)return u.iterations=e.testProceFunction({timeout:i,generator:o,callback:r[c]}),l.iterations=e.testProceFunction({timeout:i,generator:o,callback:r[s]}),e.collectResults(u,l);e.testAsyncFunction({timeout:i,generator:o,callback:r[c],complete:function(n){u.iterations=n,e.testAsyncFunction({timeout:t.timeout,generator:o,callback:r[s],complete:function(n){return l.iterations=n,t.complete(e.collectResults(u,l))}})}})}},n=function(){return{testProceFunction:e.testProceFunction,testAsyncFunction:e.testAsyncFunction,comparePerformance:e.comparePerformance}};"undefined"!=typeof module&&module.exports?module.exports=n():t.provisnr=n()}(this);